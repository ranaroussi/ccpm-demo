{"version":3,"sources":["turbopack:///[project]/src/app/docs/[[...slug]]/page.tsx"],"sourcesContent":["import { Metadata } from 'next';\nimport { notFound } from 'next/navigation';\nimport { getDocsPage, getAllDocsPages, generateTableOfContents } from '@/lib/mdx';\nimport { MDXRemote } from 'next-mdx-remote/rsc';\nimport remarkGfm from 'remark-gfm';\nimport rehypeSlug from 'rehype-slug';\nimport rehypeAutolinkHeadings from 'rehype-autolink-headings';\nimport rehypePrettyCode from 'rehype-pretty-code';\n\ninterface DocsPageProps {\n  params: {\n    slug?: string[];\n  };\n}\n\n// Generate static params for all docs pages\nexport async function generateStaticParams() {\n  const pages = getAllDocsPages();\n  return pages.map((page) => ({\n    slug: page.path,\n  }));\n}\n\n// Generate metadata for SEO\nexport async function generateMetadata({ params }: DocsPageProps): Promise<Metadata> {\n  const slug = params.slug || ['index'];\n  const page = getDocsPage(slug);\n\n  if (!page) {\n    return {\n      title: 'Documentation Not Found',\n    };\n  }\n\n  return {\n    title: `${page.frontmatter.title} - Documentation`,\n    description: page.frontmatter.description,\n    openGraph: {\n      title: `${page.frontmatter.title} - Documentation`,\n      description: page.frontmatter.description,\n      type: 'article',\n    },\n    twitter: {\n      card: 'summary',\n      title: `${page.frontmatter.title} - Documentation`,\n      description: page.frontmatter.description,\n    },\n  };\n}\n\nexport default function DocsPage({ params }: DocsPageProps) {\n  const slug = params.slug || ['index'];\n  const page = getDocsPage(slug);\n\n  if (!page) {\n    notFound();\n  }\n\n  const tableOfContents = generateTableOfContents(page.content);\n  const allPages = getAllDocsPages();\n\n  // Build navigation tree\n  const navigationTree = buildNavigationTree(allPages);\n\n  const mdxOptions = {\n    mdxOptions: {\n      remarkPlugins: [remarkGfm],\n      rehypePlugins: [\n        rehypeSlug,\n        [\n          rehypeAutolinkHeadings,\n          {\n            behavior: 'wrap',\n            properties: {\n              className: ['anchor'],\n            },\n          },\n        ],\n        [\n          rehypePrettyCode,\n          {\n            theme: 'github-dark',\n            keepBackground: false,\n          },\n        ],\n      ],\n    },\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 py-8\">\n      <div className=\"flex gap-8\">\n        {/* Sidebar Navigation */}\n        <aside className=\"w-64 shrink-0\">\n          <div className=\"sticky top-8\">\n            <h2 className=\"font-semibold mb-4\">Documentation</h2>\n            <nav className=\"text-sm\">\n              <NavigationTree items={navigationTree} currentPath={page.path} />\n            </nav>\n          </div>\n        </aside>\n\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"max-w-4xl\">\n            <div className=\"mb-8\">\n              <h1 className=\"text-4xl font-bold mb-4\">{page.frontmatter.title}</h1>\n              {page.frontmatter.description && (\n                <p className=\"text-lg text-gray-600\">{page.frontmatter.description}</p>\n              )}\n            </div>\n\n            <div className=\"flex gap-8\">\n              <article className=\"flex-1 prose prose-lg max-w-none\">\n                <MDXRemote source={page.content} options={mdxOptions} />\n              </article>\n\n              {tableOfContents.length > 0 && (\n                <aside className=\"w-64 shrink-0\">\n                  <div className=\"sticky top-8\">\n                    <h2 className=\"font-semibold mb-4\">On this page</h2>\n                    <nav className=\"text-sm\">\n                      <TableOfContentsComponent items={tableOfContents} />\n                    </nav>\n                  </div>\n                </aside>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction buildNavigationTree(pages: any[]) {\n  const tree: any = {};\n\n  pages.forEach((page) => {\n    let current = tree;\n    page.path.forEach((segment: string, index: number) => {\n      if (!current[segment]) {\n        current[segment] = {\n          title: segment,\n          path: page.path.slice(0, index + 1),\n          children: {},\n          isPage: index === page.path.length - 1,\n          order: page.frontmatter.order || 0,\n          ...(index === page.path.length - 1 && {\n            title: page.frontmatter.title,\n            description: page.frontmatter.description,\n          }),\n        };\n      }\n      current = current[segment].children;\n    });\n  });\n\n  return tree;\n}\n\nfunction NavigationTree({ items, currentPath }: { items: any; currentPath: string[] }) {\n  const sortedItems = Object.values(items).sort((a: any, b: any) => a.order - b.order);\n\n  return (\n    <ul className=\"space-y-1\">\n      {sortedItems.map((item: any) => {\n        const isActive = JSON.stringify(item.path) === JSON.stringify(currentPath);\n        const hasChildren = Object.keys(item.children).length > 0;\n\n        return (\n          <li key={item.path.join('/')}>\n            {item.isPage ? (\n              <a\n                href={`/docs/${item.path.join('/')}`}\n                className={`block px-3 py-2 rounded-md text-sm transition-colors ${\n                  isActive\n                    ? 'bg-blue-100 text-blue-900 font-medium'\n                    : 'text-gray-700 hover:bg-gray-100'\n                }`}\n              >\n                {item.title}\n              </a>\n            ) : (\n              <div className=\"px-3 py-2 font-medium text-sm text-gray-900\">\n                {item.title}\n              </div>\n            )}\n            {hasChildren && (\n              <div className=\"ml-4 mt-1\">\n                <NavigationTree items={item.children} currentPath={currentPath} />\n              </div>\n            )}\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nfunction TableOfContentsComponent({ items }: { items: any[] }) {\n  return (\n    <ul className=\"space-y-2\">\n      {items.map((item) => (\n        <li key={item.id}>\n          <a\n            href={`#${item.id}`}\n            className={`block text-gray-600 hover:text-blue-600 transition-colors ${\n              item.level > 2 ? 'ml-4' : ''\n            } ${item.level > 3 ? 'ml-8' : ''}`}\n          >\n            {item.title}\n          </a>\n          {item.children && item.children.length > 0 && (\n            <TableOfContentsComponent items={item.children} />\n          )}\n        </li>\n      ))}\n    </ul>\n  );\n}"],"names":[],"mappings":"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"}